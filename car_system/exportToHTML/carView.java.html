<html>
<head>
<title>carView.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cf8e6d;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #7a7e85;}
.s4 { color: #2aacb8;}
.s5 { color: #6aab73;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
carView.java</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">javax</span><span class="s2">.</span><span class="s1">swing</span><span class="s2">.*;</span>
<span class="s0">import </span><span class="s1">javax</span><span class="s2">.</span><span class="s1">swing</span><span class="s2">.</span><span class="s1">border</span><span class="s2">.</span><span class="s1">EmptyBorder</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">javax</span><span class="s2">.</span><span class="s1">swing</span><span class="s2">.</span><span class="s1">table</span><span class="s2">.</span><span class="s1">DefaultTableCellRenderer</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">javax</span><span class="s2">.</span><span class="s1">swing</span><span class="s2">.</span><span class="s1">table</span><span class="s2">.</span><span class="s1">DefaultTableModel</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">javax</span><span class="s2">.</span><span class="s1">swing</span><span class="s2">.</span><span class="s1">table</span><span class="s2">.</span><span class="s1">TableCellRenderer</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">javax</span><span class="s2">.</span><span class="s1">swing</span><span class="s2">.</span><span class="s1">table</span><span class="s2">.</span><span class="s1">TableCellEditor</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">awt</span><span class="s2">.*;</span>
<span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">awt</span><span class="s2">.</span><span class="s1">event</span><span class="s2">.</span><span class="s1">ActionEvent</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">awt</span><span class="s2">.</span><span class="s1">event</span><span class="s2">.</span><span class="s1">ActionListener</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">sql</span><span class="s2">.</span><span class="s1">Connection</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">sql</span><span class="s2">.</span><span class="s1">PreparedStatement</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">sql</span><span class="s2">.</span><span class="s1">ResultSet</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">sql</span><span class="s2">.</span><span class="s1">SQLException</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">sql</span><span class="s2">.</span><span class="s1">Statement</span><span class="s2">;</span>

<span class="s0">public class </span><span class="s1">carView </span><span class="s0">extends </span><span class="s1">JPanel </span><span class="s2">{</span>
    <span class="s0">private </span><span class="s1">JTable carsTable</span><span class="s2">;</span>
    <span class="s0">private </span><span class="s1">DefaultTableModel tableModel</span><span class="s2">;</span>

    <span class="s0">public </span><span class="s1">carView</span><span class="s2">() {</span>
        <span class="s1">setLayout</span><span class="s2">(</span><span class="s0">new </span><span class="s1">BorderLayout</span><span class="s2">());</span>

        <span class="s3">// Create the title panel</span>
        <span class="s1">JPanel titlePanel </span><span class="s2">= </span><span class="s0">new </span><span class="s1">JPanel</span><span class="s2">();</span>
        <span class="s1">titlePanel</span><span class="s2">.</span><span class="s1">setBackground</span><span class="s2">(</span><span class="s1">Color</span><span class="s2">.</span><span class="s1">ORANGE</span><span class="s2">);</span>
        <span class="s1">titlePanel</span><span class="s2">.</span><span class="s1">setBorder</span><span class="s2">(</span><span class="s0">new </span><span class="s1">EmptyBorder</span><span class="s2">(</span><span class="s4">20</span><span class="s2">, </span><span class="s4">20</span><span class="s2">, </span><span class="s4">20</span><span class="s2">, </span><span class="s4">20</span><span class="s2">));</span>
        <span class="s1">JLabel titleLabel </span><span class="s2">= </span><span class="s0">new </span><span class="s1">JLabel</span><span class="s2">(</span><span class="s5">&quot;Car Inventory&quot;</span><span class="s2">);</span>
        <span class="s1">titleLabel</span><span class="s2">.</span><span class="s1">setFont</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Font</span><span class="s2">(</span><span class="s5">&quot;Arial&quot;</span><span class="s2">, </span><span class="s1">Font</span><span class="s2">.</span><span class="s1">BOLD</span><span class="s2">, </span><span class="s4">50</span><span class="s2">));</span>
        <span class="s1">titleLabel</span><span class="s2">.</span><span class="s1">setForeground</span><span class="s2">(</span><span class="s1">Color</span><span class="s2">.</span><span class="s1">WHITE</span><span class="s2">);</span>
        <span class="s1">titlePanel</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s1">titleLabel</span><span class="s2">);</span>

        <span class="s3">// Create the table panel</span>
        <span class="s1">JPanel tablePanel </span><span class="s2">= </span><span class="s0">new </span><span class="s1">JPanel</span><span class="s2">(</span><span class="s0">new </span><span class="s1">BorderLayout</span><span class="s2">());</span>
        <span class="s1">tablePanel</span><span class="s2">.</span><span class="s1">setBackground</span><span class="s2">(</span><span class="s1">Color</span><span class="s2">.</span><span class="s1">WHITE</span><span class="s2">);</span>
        <span class="s1">tablePanel</span><span class="s2">.</span><span class="s1">setBorder</span><span class="s2">(</span><span class="s0">new </span><span class="s1">EmptyBorder</span><span class="s2">(</span><span class="s4">20</span><span class="s2">, </span><span class="s4">20</span><span class="s2">, </span><span class="s4">20</span><span class="s2">, </span><span class="s4">20</span><span class="s2">));</span>

        <span class="s1">String</span><span class="s2">[] </span><span class="s1">columnNames </span><span class="s2">= {</span><span class="s5">&quot;Car Info&quot;</span><span class="s2">, </span><span class="s5">&quot;Actions&quot;</span><span class="s2">};</span>
        <span class="s1">Object</span><span class="s2">[][] </span><span class="s1">data </span><span class="s2">= </span><span class="s1">fetchCarData</span><span class="s2">();</span>

        <span class="s1">tableModel </span><span class="s2">= </span><span class="s0">new </span><span class="s1">DefaultTableModel</span><span class="s2">(</span><span class="s1">data</span><span class="s2">, </span><span class="s1">columnNames</span><span class="s2">);</span>
        <span class="s1">carsTable </span><span class="s2">= </span><span class="s0">new </span><span class="s1">JTable</span><span class="s2">(</span><span class="s1">tableModel</span><span class="s2">);</span>
        <span class="s1">carsTable</span><span class="s2">.</span><span class="s1">setRowHeight</span><span class="s2">(</span><span class="s4">150</span><span class="s2">);</span>
        <span class="s1">carsTable</span><span class="s2">.</span><span class="s1">getColumn</span><span class="s2">(</span><span class="s5">&quot;Car Info&quot;</span><span class="s2">).</span><span class="s1">setCellRenderer</span><span class="s2">(</span><span class="s0">new </span><span class="s1">CarInfoRenderer</span><span class="s2">());</span>
        <span class="s1">carsTable</span><span class="s2">.</span><span class="s1">getColumn</span><span class="s2">(</span><span class="s5">&quot;Actions&quot;</span><span class="s2">).</span><span class="s1">setCellRenderer</span><span class="s2">(</span><span class="s0">new </span><span class="s1">ButtonRenderer</span><span class="s2">());</span>
        <span class="s1">carsTable</span><span class="s2">.</span><span class="s1">getColumn</span><span class="s2">(</span><span class="s5">&quot;Actions&quot;</span><span class="s2">).</span><span class="s1">setCellEditor</span><span class="s2">(</span><span class="s0">new </span><span class="s1">ButtonEditor</span><span class="s2">(</span><span class="s0">new </span><span class="s1">JCheckBox</span><span class="s2">(), </span><span class="s0">this</span><span class="s2">));</span>

        <span class="s1">JScrollPane scrollPane </span><span class="s2">= </span><span class="s0">new </span><span class="s1">JScrollPane</span><span class="s2">(</span><span class="s1">carsTable</span><span class="s2">);</span>
        <span class="s1">carsTable</span><span class="s2">.</span><span class="s1">setFillsViewportHeight</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span>
        <span class="s1">tablePanel</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s1">scrollPane</span><span class="s2">, </span><span class="s1">BorderLayout</span><span class="s2">.</span><span class="s1">CENTER</span><span class="s2">);</span>

        <span class="s3">// Add title and table panels to the main panel</span>
        <span class="s1">add</span><span class="s2">(</span><span class="s1">titlePanel</span><span class="s2">, </span><span class="s1">BorderLayout</span><span class="s2">.</span><span class="s1">NORTH</span><span class="s2">);</span>
        <span class="s1">add</span><span class="s2">(</span><span class="s1">tablePanel</span><span class="s2">, </span><span class="s1">BorderLayout</span><span class="s2">.</span><span class="s1">CENTER</span><span class="s2">);</span>
    <span class="s2">}</span>

    <span class="s0">private </span><span class="s1">Object</span><span class="s2">[][] </span><span class="s1">fetchCarData</span><span class="s2">() {</span>
        <span class="s0">try </span><span class="s2">(</span><span class="s1">Connection connection </span><span class="s2">= </span><span class="s1">DatabaseUtils</span><span class="s2">.</span><span class="s1">getConnection</span><span class="s2">();</span>
             <span class="s1">Statement statement </span><span class="s2">= </span><span class="s1">connection</span><span class="s2">.</span><span class="s1">createStatement</span><span class="s2">(</span><span class="s1">ResultSet</span><span class="s2">.</span><span class="s1">TYPE_SCROLL_INSENSITIVE</span><span class="s2">, </span><span class="s1">ResultSet</span><span class="s2">.</span><span class="s1">CONCUR_READ_ONLY</span><span class="s2">);</span>
             <span class="s1">ResultSet resultSet </span><span class="s2">= </span><span class="s1">statement</span><span class="s2">.</span><span class="s1">executeQuery</span><span class="s2">(</span><span class="s5">&quot;SELECT * FROM cars&quot;</span><span class="s2">)) {</span>

            <span class="s1">resultSet</span><span class="s2">.</span><span class="s1">last</span><span class="s2">();</span>
            <span class="s0">int </span><span class="s1">rowCount </span><span class="s2">= </span><span class="s1">resultSet</span><span class="s2">.</span><span class="s1">getRow</span><span class="s2">();</span>
            <span class="s1">resultSet</span><span class="s2">.</span><span class="s1">beforeFirst</span><span class="s2">();</span>

            <span class="s1">Object</span><span class="s2">[][] </span><span class="s1">data </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Object</span><span class="s2">[</span><span class="s1">rowCount</span><span class="s2">][</span><span class="s4">2</span><span class="s2">];</span>
            <span class="s0">int </span><span class="s1">rowIndex </span><span class="s2">= </span><span class="s4">0</span><span class="s2">;</span>
            <span class="s0">while </span><span class="s2">(</span><span class="s1">resultSet</span><span class="s2">.</span><span class="s1">next</span><span class="s2">()) {</span>
                <span class="s1">CarInfo carInfo </span><span class="s2">= </span><span class="s0">new </span><span class="s1">CarInfo</span><span class="s2">(</span>
                        <span class="s1">resultSet</span><span class="s2">.</span><span class="s1">getInt</span><span class="s2">(</span><span class="s5">&quot;carId&quot;</span><span class="s2">),</span>
                        <span class="s1">resultSet</span><span class="s2">.</span><span class="s1">getString</span><span class="s2">(</span><span class="s5">&quot;model&quot;</span><span class="s2">),</span>
                        <span class="s1">resultSet</span><span class="s2">.</span><span class="s1">getDouble</span><span class="s2">(</span><span class="s5">&quot;price&quot;</span><span class="s2">),</span>
                        <span class="s1">resultSet</span><span class="s2">.</span><span class="s1">getInt</span><span class="s2">(</span><span class="s5">&quot;mileage&quot;</span><span class="s2">),</span>
                        <span class="s1">resultSet</span><span class="s2">.</span><span class="s1">getString</span><span class="s2">(</span><span class="s5">&quot;color&quot;</span><span class="s2">),</span>
                        <span class="s1">resultSet</span><span class="s2">.</span><span class="s1">getString</span><span class="s2">(</span><span class="s5">&quot;description&quot;</span><span class="s2">),</span>
                        <span class="s1">resultSet</span><span class="s2">.</span><span class="s1">getString</span><span class="s2">(</span><span class="s5">&quot;status&quot;</span><span class="s2">),</span>
                        <span class="s1">resultSet</span><span class="s2">.</span><span class="s1">getDate</span><span class="s2">(</span><span class="s5">&quot;date_listed&quot;</span><span class="s2">),</span>
                        <span class="s1">resultSet</span><span class="s2">.</span><span class="s1">getString</span><span class="s2">(</span><span class="s5">&quot;photos&quot;</span><span class="s2">)</span>
                <span class="s2">);</span>
                <span class="s1">data</span><span class="s2">[</span><span class="s1">rowIndex</span><span class="s2">][</span><span class="s4">0</span><span class="s2">] = </span><span class="s1">carInfo</span><span class="s2">;</span>
                <span class="s1">data</span><span class="s2">[</span><span class="s1">rowIndex</span><span class="s2">][</span><span class="s4">1</span><span class="s2">] = </span><span class="s5">&quot;Edit/Delete&quot;</span><span class="s2">;</span>
                <span class="s1">rowIndex</span><span class="s2">++;</span>
            <span class="s2">}</span>
            <span class="s0">return </span><span class="s1">data</span><span class="s2">;</span>
        <span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">SQLException ex</span><span class="s2">) {</span>
            <span class="s1">ex</span><span class="s2">.</span><span class="s1">printStackTrace</span><span class="s2">();</span>
            <span class="s1">JOptionPane</span><span class="s2">.</span><span class="s1">showMessageDialog</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s5">&quot;Error fetching car data.&quot;</span><span class="s2">);</span>
            <span class="s0">return new </span><span class="s1">Object</span><span class="s2">[</span><span class="s4">0</span><span class="s2">][</span><span class="s4">0</span><span class="s2">];</span>
        <span class="s2">}</span>
    <span class="s2">}</span>

    <span class="s0">public void </span><span class="s1">deleteCar</span><span class="s2">(</span><span class="s0">int </span><span class="s1">carId</span><span class="s2">) {</span>
        <span class="s0">try </span><span class="s2">(</span><span class="s1">Connection connection </span><span class="s2">= </span><span class="s1">DatabaseUtils</span><span class="s2">.</span><span class="s1">getConnection</span><span class="s2">()) {</span>
            <span class="s1">String query </span><span class="s2">= </span><span class="s5">&quot;DELETE FROM cars WHERE carId = ?&quot;</span><span class="s2">;</span>
            <span class="s0">try </span><span class="s2">(</span><span class="s1">PreparedStatement statement </span><span class="s2">= </span><span class="s1">connection</span><span class="s2">.</span><span class="s1">prepareStatement</span><span class="s2">(</span><span class="s1">query</span><span class="s2">)) {</span>
                <span class="s1">statement</span><span class="s2">.</span><span class="s1">setInt</span><span class="s2">(</span><span class="s4">1</span><span class="s2">, </span><span class="s1">carId</span><span class="s2">);</span>

                <span class="s0">int </span><span class="s1">rowsDeleted </span><span class="s2">= </span><span class="s1">statement</span><span class="s2">.</span><span class="s1">executeUpdate</span><span class="s2">();</span>
                <span class="s0">if </span><span class="s2">(</span><span class="s1">rowsDeleted </span><span class="s2">&gt; </span><span class="s4">0</span><span class="s2">) {</span>
                    <span class="s1">JOptionPane</span><span class="s2">.</span><span class="s1">showMessageDialog</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s5">&quot;Car deleted successfully!&quot;</span><span class="s2">);</span>
                    <span class="s1">reloadTableData</span><span class="s2">();</span>
                <span class="s2">}</span>
            <span class="s2">}</span>
        <span class="s2">} </span><span class="s0">catch </span><span class="s2">(</span><span class="s1">SQLException ex</span><span class="s2">) {</span>
            <span class="s1">ex</span><span class="s2">.</span><span class="s1">printStackTrace</span><span class="s2">();</span>
            <span class="s1">JOptionPane</span><span class="s2">.</span><span class="s1">showMessageDialog</span><span class="s2">(</span><span class="s0">this</span><span class="s2">, </span><span class="s5">&quot;Error deleting car: &quot; </span><span class="s2">+ </span><span class="s1">ex</span><span class="s2">.</span><span class="s1">getMessage</span><span class="s2">());</span>
        <span class="s2">}</span>
    <span class="s2">}</span>

    <span class="s0">public void </span><span class="s1">editCar</span><span class="s2">(</span><span class="s0">int </span><span class="s1">carId</span><span class="s2">) {</span>
        <span class="s3">// Open a dialog to edit car details</span>
        <span class="s1">EditCarDialog editCarDialog </span><span class="s2">= </span><span class="s0">new </span><span class="s1">EditCarDialog</span><span class="s2">(</span><span class="s1">carId</span><span class="s2">, </span><span class="s0">this</span><span class="s2">);</span>
        <span class="s1">editCarDialog</span><span class="s2">.</span><span class="s1">setVisible</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span>
    <span class="s2">}</span>

    <span class="s0">public void </span><span class="s1">reloadTableData</span><span class="s2">() {</span>
        <span class="s1">tableModel</span><span class="s2">.</span><span class="s1">setDataVector</span><span class="s2">(</span><span class="s1">fetchCarData</span><span class="s2">(), </span><span class="s0">new </span><span class="s1">Object</span><span class="s2">[]{</span><span class="s5">&quot;Car Info&quot;</span><span class="s2">, </span><span class="s5">&quot;Actions&quot;</span><span class="s2">});</span>
        <span class="s1">carsTable</span><span class="s2">.</span><span class="s1">getColumn</span><span class="s2">(</span><span class="s5">&quot;Car Info&quot;</span><span class="s2">).</span><span class="s1">setCellRenderer</span><span class="s2">(</span><span class="s0">new </span><span class="s1">CarInfoRenderer</span><span class="s2">());</span>
        <span class="s1">carsTable</span><span class="s2">.</span><span class="s1">getColumn</span><span class="s2">(</span><span class="s5">&quot;Actions&quot;</span><span class="s2">).</span><span class="s1">setCellRenderer</span><span class="s2">(</span><span class="s0">new </span><span class="s1">ButtonRenderer</span><span class="s2">());</span>
        <span class="s1">carsTable</span><span class="s2">.</span><span class="s1">getColumn</span><span class="s2">(</span><span class="s5">&quot;Actions&quot;</span><span class="s2">).</span><span class="s1">setCellEditor</span><span class="s2">(</span><span class="s0">new </span><span class="s1">ButtonEditor</span><span class="s2">(</span><span class="s0">new </span><span class="s1">JCheckBox</span><span class="s2">(), </span><span class="s0">this</span><span class="s2">));</span>
    <span class="s2">}</span>

    <span class="s0">class </span><span class="s1">CarInfoRenderer </span><span class="s0">extends </span><span class="s1">DefaultTableCellRenderer </span><span class="s2">{</span>
        <span class="s1">@Override</span>
        <span class="s0">public </span><span class="s1">Component getTableCellRendererComponent</span><span class="s2">(</span><span class="s1">JTable table</span><span class="s2">, </span><span class="s1">Object value</span><span class="s2">, </span><span class="s0">boolean </span><span class="s1">isSelected</span><span class="s2">, </span><span class="s0">boolean </span><span class="s1">hasFocus</span><span class="s2">, </span><span class="s0">int </span><span class="s1">row</span><span class="s2">, </span><span class="s0">int </span><span class="s1">column</span><span class="s2">) {</span>
            <span class="s1">CarInfo carInfo </span><span class="s2">= (</span><span class="s1">CarInfo</span><span class="s2">) </span><span class="s1">value</span><span class="s2">;</span>
            <span class="s1">JPanel panel </span><span class="s2">= </span><span class="s0">new </span><span class="s1">JPanel</span><span class="s2">(</span><span class="s0">new </span><span class="s1">BorderLayout</span><span class="s2">());</span>
            <span class="s1">panel</span><span class="s2">.</span><span class="s1">setBorder</span><span class="s2">(</span><span class="s1">BorderFactory</span><span class="s2">.</span><span class="s1">createLineBorder</span><span class="s2">(</span><span class="s1">Color</span><span class="s2">.</span><span class="s1">LIGHT_GRAY</span><span class="s2">));</span>
            <span class="s1">panel</span><span class="s2">.</span><span class="s1">setBackground</span><span class="s2">(</span><span class="s1">Color</span><span class="s2">.</span><span class="s1">WHITE</span><span class="s2">);</span>

            <span class="s3">// Car image</span>
            <span class="s1">JLabel imageLabel </span><span class="s2">= </span><span class="s0">new </span><span class="s1">JLabel</span><span class="s2">();</span>
            <span class="s0">if </span><span class="s2">(</span><span class="s1">carInfo</span><span class="s2">.</span><span class="s1">photos </span><span class="s2">!= </span><span class="s0">null </span><span class="s2">&amp;&amp; !</span><span class="s1">carInfo</span><span class="s2">.</span><span class="s1">photos</span><span class="s2">.</span><span class="s1">isEmpty</span><span class="s2">()) {</span>
                <span class="s1">ImageIcon icon </span><span class="s2">= </span><span class="s0">new </span><span class="s1">ImageIcon</span><span class="s2">(</span><span class="s1">carInfo</span><span class="s2">.</span><span class="s1">photos</span><span class="s2">);</span>
                <span class="s1">Image image </span><span class="s2">= </span><span class="s1">icon</span><span class="s2">.</span><span class="s1">getImage</span><span class="s2">().</span><span class="s1">getScaledInstance</span><span class="s2">(</span><span class="s4">150</span><span class="s2">, </span><span class="s4">150</span><span class="s2">, </span><span class="s1">Image</span><span class="s2">.</span><span class="s1">SCALE_SMOOTH</span><span class="s2">);</span>
                <span class="s1">imageLabel</span><span class="s2">.</span><span class="s1">setIcon</span><span class="s2">(</span><span class="s0">new </span><span class="s1">ImageIcon</span><span class="s2">(</span><span class="s1">image</span><span class="s2">));</span>
            <span class="s2">}</span>
            <span class="s1">panel</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s1">imageLabel</span><span class="s2">, </span><span class="s1">BorderLayout</span><span class="s2">.</span><span class="s1">WEST</span><span class="s2">);</span>

            <span class="s3">// Car details</span>
            <span class="s1">JPanel detailsPanel </span><span class="s2">= </span><span class="s0">new </span><span class="s1">JPanel</span><span class="s2">();</span>
            <span class="s1">detailsPanel</span><span class="s2">.</span><span class="s1">setLayout</span><span class="s2">(</span><span class="s0">new </span><span class="s1">BoxLayout</span><span class="s2">(</span><span class="s1">detailsPanel</span><span class="s2">, </span><span class="s1">BoxLayout</span><span class="s2">.</span><span class="s1">Y_AXIS</span><span class="s2">));</span>
            <span class="s1">detailsPanel</span><span class="s2">.</span><span class="s1">setBackground</span><span class="s2">(</span><span class="s1">Color</span><span class="s2">.</span><span class="s1">WHITE</span><span class="s2">);</span>
            <span class="s1">detailsPanel</span><span class="s2">.</span><span class="s1">setBorder</span><span class="s2">(</span><span class="s0">new </span><span class="s1">EmptyBorder</span><span class="s2">(</span><span class="s4">10</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s4">10</span><span class="s2">, </span><span class="s4">10</span><span class="s2">));</span>

            <span class="s1">detailsPanel</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s0">new </span><span class="s1">JLabel</span><span class="s2">(</span><span class="s5">&quot;&lt;html&gt;&lt;b&gt;Model:&lt;/b&gt; &quot; </span><span class="s2">+ </span><span class="s1">carInfo</span><span class="s2">.</span><span class="s1">model </span><span class="s2">+ </span><span class="s5">&quot;&lt;/html&gt;&quot;</span><span class="s2">));</span>
            <span class="s1">detailsPanel</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s0">new </span><span class="s1">JLabel</span><span class="s2">(</span><span class="s5">&quot;&lt;html&gt;&lt;b&gt;Price:&lt;/b&gt; $&quot; </span><span class="s2">+ </span><span class="s1">carInfo</span><span class="s2">.</span><span class="s1">price </span><span class="s2">+ </span><span class="s5">&quot;&lt;/html&gt;&quot;</span><span class="s2">));</span>
            <span class="s1">detailsPanel</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s0">new </span><span class="s1">JLabel</span><span class="s2">(</span><span class="s5">&quot;&lt;html&gt;&lt;b&gt;Mileage:&lt;/b&gt; &quot; </span><span class="s2">+ </span><span class="s1">carInfo</span><span class="s2">.</span><span class="s1">mileage </span><span class="s2">+ </span><span class="s5">&quot; miles&lt;/html&gt;&quot;</span><span class="s2">));</span>
            <span class="s1">detailsPanel</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s0">new </span><span class="s1">JLabel</span><span class="s2">(</span><span class="s5">&quot;&lt;html&gt;&lt;b&gt;Color:&lt;/b&gt; &quot; </span><span class="s2">+ </span><span class="s1">carInfo</span><span class="s2">.</span><span class="s1">color </span><span class="s2">+ </span><span class="s5">&quot;&lt;/html&gt;&quot;</span><span class="s2">));</span>
            <span class="s1">detailsPanel</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s0">new </span><span class="s1">JLabel</span><span class="s2">(</span><span class="s5">&quot;&lt;html&gt;&lt;b&gt;Description:&lt;/b&gt; &quot; </span><span class="s2">+ </span><span class="s1">carInfo</span><span class="s2">.</span><span class="s1">description </span><span class="s2">+ </span><span class="s5">&quot;&lt;/html&gt;&quot;</span><span class="s2">));</span>
            <span class="s1">detailsPanel</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s0">new </span><span class="s1">JLabel</span><span class="s2">(</span><span class="s5">&quot;&lt;html&gt;&lt;b&gt;Status:&lt;/b&gt; &quot; </span><span class="s2">+ </span><span class="s1">carInfo</span><span class="s2">.</span><span class="s1">status </span><span class="s2">+ </span><span class="s5">&quot;&lt;/html&gt;&quot;</span><span class="s2">));</span>
            <span class="s1">detailsPanel</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s0">new </span><span class="s1">JLabel</span><span class="s2">(</span><span class="s5">&quot;&lt;html&gt;&lt;b&gt;Date Listed:&lt;/b&gt; &quot; </span><span class="s2">+ </span><span class="s1">carInfo</span><span class="s2">.</span><span class="s1">date_listed </span><span class="s2">+ </span><span class="s5">&quot;&lt;/html&gt;&quot;</span><span class="s2">));</span>

            <span class="s1">panel</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s1">detailsPanel</span><span class="s2">, </span><span class="s1">BorderLayout</span><span class="s2">.</span><span class="s1">CENTER</span><span class="s2">);</span>

            <span class="s0">return </span><span class="s1">panel</span><span class="s2">;</span>
        <span class="s2">}</span>
    <span class="s2">}</span>

    <span class="s0">class </span><span class="s1">ButtonRenderer </span><span class="s0">extends </span><span class="s1">JPanel </span><span class="s0">implements </span><span class="s1">TableCellRenderer </span><span class="s2">{</span>
        <span class="s0">private final </span><span class="s1">JButton editButton</span><span class="s2">;</span>
        <span class="s0">private final </span><span class="s1">JButton deleteButton</span><span class="s2">;</span>

        <span class="s0">public </span><span class="s1">ButtonRenderer</span><span class="s2">() {</span>
            <span class="s1">setLayout</span><span class="s2">(</span><span class="s0">new </span><span class="s1">FlowLayout</span><span class="s2">(</span><span class="s1">FlowLayout</span><span class="s2">.</span><span class="s1">CENTER</span><span class="s2">, </span><span class="s4">5</span><span class="s2">, </span><span class="s4">5</span><span class="s2">));</span>
            <span class="s1">setOpaque</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span>

            <span class="s1">editButton </span><span class="s2">= </span><span class="s0">new </span><span class="s1">JButton</span><span class="s2">(</span><span class="s5">&quot;Edit&quot;</span><span class="s2">);</span>
            <span class="s1">deleteButton </span><span class="s2">= </span><span class="s0">new </span><span class="s1">JButton</span><span class="s2">(</span><span class="s5">&quot;Delete&quot;</span><span class="s2">);</span>

            <span class="s1">add</span><span class="s2">(</span><span class="s1">editButton</span><span class="s2">);</span>
            <span class="s1">add</span><span class="s2">(</span><span class="s1">deleteButton</span><span class="s2">);</span>
        <span class="s2">}</span>

        <span class="s1">@Override</span>
        <span class="s0">public </span><span class="s1">Component getTableCellRendererComponent</span><span class="s2">(</span><span class="s1">JTable table</span><span class="s2">, </span><span class="s1">Object value</span><span class="s2">, </span><span class="s0">boolean </span><span class="s1">isSelected</span><span class="s2">, </span><span class="s0">boolean </span><span class="s1">hasFocus</span><span class="s2">, </span><span class="s0">int </span><span class="s1">row</span><span class="s2">, </span><span class="s0">int </span><span class="s1">column</span><span class="s2">) {</span>
            <span class="s0">return this</span><span class="s2">;</span>
        <span class="s2">}</span>
    <span class="s2">}</span>

    <span class="s0">class </span><span class="s1">ButtonEditor </span><span class="s0">extends </span><span class="s1">DefaultCellEditor </span><span class="s2">{</span>
        <span class="s0">private final </span><span class="s1">JPanel panel</span><span class="s2">;</span>
        <span class="s0">private final </span><span class="s1">JButton editButton</span><span class="s2">;</span>
        <span class="s0">private final </span><span class="s1">JButton deleteButton</span><span class="s2">;</span>
        <span class="s0">private </span><span class="s1">carView parentPanel</span><span class="s2">;</span>
        <span class="s0">private boolean </span><span class="s1">isPushed</span><span class="s2">;</span>
        <span class="s0">private int </span><span class="s1">currentRow</span><span class="s2">;</span>

        <span class="s0">public </span><span class="s1">ButtonEditor</span><span class="s2">(</span><span class="s1">JCheckBox checkBox</span><span class="s2">, </span><span class="s1">carView parentPanel</span><span class="s2">) {</span>
            <span class="s0">super</span><span class="s2">(</span><span class="s1">checkBox</span><span class="s2">);</span>
            <span class="s0">this</span><span class="s2">.</span><span class="s1">parentPanel </span><span class="s2">= </span><span class="s1">parentPanel</span><span class="s2">;</span>
            <span class="s1">panel </span><span class="s2">= </span><span class="s0">new </span><span class="s1">JPanel</span><span class="s2">(</span><span class="s0">new </span><span class="s1">FlowLayout</span><span class="s2">(</span><span class="s1">FlowLayout</span><span class="s2">.</span><span class="s1">CENTER</span><span class="s2">, </span><span class="s4">5</span><span class="s2">, </span><span class="s4">5</span><span class="s2">));</span>
            <span class="s1">editButton </span><span class="s2">= </span><span class="s0">new </span><span class="s1">JButton</span><span class="s2">(</span><span class="s5">&quot;Edit&quot;</span><span class="s2">);</span>
            <span class="s1">deleteButton </span><span class="s2">= </span><span class="s0">new </span><span class="s1">JButton</span><span class="s2">(</span><span class="s5">&quot;Delete&quot;</span><span class="s2">);</span>

            <span class="s1">editButton</span><span class="s2">.</span><span class="s1">addActionListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">ActionListener</span><span class="s2">() {</span>
                <span class="s1">@Override</span>
                <span class="s0">public void </span><span class="s1">actionPerformed</span><span class="s2">(</span><span class="s1">ActionEvent e</span><span class="s2">) {</span>
                    <span class="s0">if </span><span class="s2">(</span><span class="s1">currentRow </span><span class="s2">&gt;= </span><span class="s4">0 </span><span class="s2">&amp;&amp; </span><span class="s1">currentRow </span><span class="s2">&lt; </span><span class="s1">carsTable</span><span class="s2">.</span><span class="s1">getRowCount</span><span class="s2">()) {</span>
                        <span class="s1">CarInfo carInfo </span><span class="s2">= (</span><span class="s1">CarInfo</span><span class="s2">) </span><span class="s1">carsTable</span><span class="s2">.</span><span class="s1">getValueAt</span><span class="s2">(</span><span class="s1">currentRow</span><span class="s2">, </span><span class="s4">0</span><span class="s2">);</span>
                        <span class="s1">parentPanel</span><span class="s2">.</span><span class="s1">editCar</span><span class="s2">(</span><span class="s1">carInfo</span><span class="s2">.</span><span class="s1">carId</span><span class="s2">);</span>
                    <span class="s2">}</span>
                    <span class="s1">fireEditingStopped</span><span class="s2">();</span>
                <span class="s2">}</span>
            <span class="s2">});</span>

            <span class="s1">deleteButton</span><span class="s2">.</span><span class="s1">addActionListener</span><span class="s2">(</span><span class="s0">new </span><span class="s1">ActionListener</span><span class="s2">() {</span>
                <span class="s1">@Override</span>
                <span class="s0">public void </span><span class="s1">actionPerformed</span><span class="s2">(</span><span class="s1">ActionEvent e</span><span class="s2">) {</span>
                    <span class="s0">if </span><span class="s2">(</span><span class="s1">currentRow </span><span class="s2">&gt;= </span><span class="s4">0 </span><span class="s2">&amp;&amp; </span><span class="s1">currentRow </span><span class="s2">&lt; </span><span class="s1">carsTable</span><span class="s2">.</span><span class="s1">getRowCount</span><span class="s2">()) {</span>
                        <span class="s1">CarInfo carInfo </span><span class="s2">= (</span><span class="s1">CarInfo</span><span class="s2">) </span><span class="s1">carsTable</span><span class="s2">.</span><span class="s1">getValueAt</span><span class="s2">(</span><span class="s1">currentRow</span><span class="s2">, </span><span class="s4">0</span><span class="s2">);</span>
                        <span class="s1">parentPanel</span><span class="s2">.</span><span class="s1">deleteCar</span><span class="s2">(</span><span class="s1">carInfo</span><span class="s2">.</span><span class="s1">carId</span><span class="s2">);</span>
                    <span class="s2">}</span>
                    <span class="s1">fireEditingStopped</span><span class="s2">();</span>
                <span class="s2">}</span>
            <span class="s2">});</span>

            <span class="s1">panel</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s1">editButton</span><span class="s2">);</span>
            <span class="s1">panel</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s1">deleteButton</span><span class="s2">);</span>
        <span class="s2">}</span>

        <span class="s1">@Override</span>
        <span class="s0">public </span><span class="s1">Component getTableCellEditorComponent</span><span class="s2">(</span><span class="s1">JTable table</span><span class="s2">, </span><span class="s1">Object value</span><span class="s2">, </span><span class="s0">boolean </span><span class="s1">isSelected</span><span class="s2">, </span><span class="s0">int </span><span class="s1">row</span><span class="s2">, </span><span class="s0">int </span><span class="s1">column</span><span class="s2">) {</span>
            <span class="s1">isPushed </span><span class="s2">= </span><span class="s0">true</span><span class="s2">;</span>
            <span class="s1">currentRow </span><span class="s2">= </span><span class="s1">row</span><span class="s2">;</span>
            <span class="s0">return </span><span class="s1">panel</span><span class="s2">;</span>
        <span class="s2">}</span>

        <span class="s1">@Override</span>
        <span class="s0">public </span><span class="s1">Object getCellEditorValue</span><span class="s2">() {</span>
            <span class="s1">isPushed </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span>
            <span class="s0">return </span><span class="s5">&quot;Edit/Delete&quot;</span><span class="s2">;</span>
        <span class="s2">}</span>

        <span class="s1">@Override</span>
        <span class="s0">public boolean </span><span class="s1">stopCellEditing</span><span class="s2">() {</span>
            <span class="s1">isPushed </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span>
            <span class="s0">return super</span><span class="s2">.</span><span class="s1">stopCellEditing</span><span class="s2">();</span>
        <span class="s2">}</span>

        <span class="s1">@Override</span>
        <span class="s0">protected void </span><span class="s1">fireEditingStopped</span><span class="s2">() {</span>
            <span class="s0">super</span><span class="s2">.</span><span class="s1">fireEditingStopped</span><span class="s2">();</span>
        <span class="s2">}</span>
    <span class="s2">}</span>

    <span class="s0">class </span><span class="s1">CarInfo </span><span class="s2">{</span>
        <span class="s0">int </span><span class="s1">carId</span><span class="s2">;</span>
        <span class="s1">String model</span><span class="s2">;</span>
        <span class="s0">double </span><span class="s1">price</span><span class="s2">;</span>
        <span class="s0">int </span><span class="s1">mileage</span><span class="s2">;</span>
        <span class="s1">String color</span><span class="s2">;</span>
        <span class="s1">String description</span><span class="s2">;</span>
        <span class="s1">String status</span><span class="s2">;</span>
        <span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">Date date_listed</span><span class="s2">;</span>
        <span class="s1">String photos</span><span class="s2">;</span>

        <span class="s0">public </span><span class="s1">CarInfo</span><span class="s2">(</span><span class="s0">int </span><span class="s1">carId</span><span class="s2">, </span><span class="s1">String model</span><span class="s2">, </span><span class="s0">double </span><span class="s1">price</span><span class="s2">, </span><span class="s0">int </span><span class="s1">mileage</span><span class="s2">, </span><span class="s1">String color</span><span class="s2">, </span><span class="s1">String description</span><span class="s2">, </span><span class="s1">String status</span><span class="s2">, </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">Date date_listed</span><span class="s2">, </span><span class="s1">String photos</span><span class="s2">) {</span>
            <span class="s0">this</span><span class="s2">.</span><span class="s1">carId </span><span class="s2">= </span><span class="s1">carId</span><span class="s2">;</span>
            <span class="s0">this</span><span class="s2">.</span><span class="s1">model </span><span class="s2">= </span><span class="s1">model</span><span class="s2">;</span>
            <span class="s0">this</span><span class="s2">.</span><span class="s1">price </span><span class="s2">= </span><span class="s1">price</span><span class="s2">;</span>
            <span class="s0">this</span><span class="s2">.</span><span class="s1">mileage </span><span class="s2">= </span><span class="s1">mileage</span><span class="s2">;</span>
            <span class="s0">this</span><span class="s2">.</span><span class="s1">color </span><span class="s2">= </span><span class="s1">color</span><span class="s2">;</span>
            <span class="s0">this</span><span class="s2">.</span><span class="s1">description </span><span class="s2">= </span><span class="s1">description</span><span class="s2">;</span>
            <span class="s0">this</span><span class="s2">.</span><span class="s1">status </span><span class="s2">= </span><span class="s1">status</span><span class="s2">;</span>
            <span class="s0">this</span><span class="s2">.</span><span class="s1">date_listed </span><span class="s2">= </span><span class="s1">date_listed</span><span class="s2">;</span>
            <span class="s0">this</span><span class="s2">.</span><span class="s1">photos </span><span class="s2">= </span><span class="s1">photos</span><span class="s2">;</span>
        <span class="s2">}</span>
    <span class="s2">}</span>
<span class="s2">}</span>
</pre>
</body>
</html>